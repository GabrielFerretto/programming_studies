# üêß Linux aula 01 pt-03

# Configura√ß√£o de Rede

<img src="https://media.giphy.com/media/9J7tdYltWyXIY/giphy.gif" style="width:290px">

<br>

Reconhecer como configurar as interfaces de rede em um sistema operacional Linux Possibilitar√° a comunica√ß√£o desta m√°quina com outras em uma rede local ou na internet, logo, alguns comandos podem ser √∫teis, como veremos a seguir.

*Antes de come√ßar, certifique-se que o pacote **net-tools** esteja instalado em seu Linux(Debian) , rodando a linha de comando:*
```sh
   sudo apt install net-tools
```
<hr>

### Configura√ß√£o de redes

**ifconfig** *O comado ifconfig permite a configura√ß√£o das informa√ß√µes mais b√°sicas de uma interface de rede, como seu IP e a m√°scara de rede.*

<img src="../img/ifconfig01.png">

*A execu√ß√£o de **sudo ifconfig** Fornece as informa√ß√µes sobre meu IPv4, m√°scara de rede e broadcast s√£o apresentadas, assim como meu IPv6, e o endere√ßo mac address, al√©mm de algumas estat√≠sticas da interafce de rede (batizada aqui de enp0s3). Interfaces de rede outrora eram padronizadas como eth0, eth1, eth2 e assim por diante, mas a verdade √© que seus nomes variam de acordo com o drive, seja placa de rede cabeada ou WI-FI.*

*A interface **lo** √© o looback, sempre presente em qualquer sistema operacional. Seu ip padr√£o **127.0.0.1** indica como posso apontar para minha pr√≥pria m√°quina, mesmo que a interface de rede real esteja inativa.*

<br>

```sh
  sudo ifconfig 'nome da rede' down

  sudo ifconfig 'nome da rede' up
```

<img src="../img/ifconfig02.png">

*O comando **sudo ifconfig [nome da interface] down** permite desligar a interface. J√° o comando **sudo ifconfig [nome da interface] up** permite ligar a interface.*

<br>

*Outra possibilidade trazida pelo comando ifconfig √© alterar o ip e m√°scara de rede.*

*Repare, que o IP atual de minha maquina √© **10.0.2.15** e a m√°scara, **251.251.251.0**; poderia trocar facilmente ambos para um ip interno de classe B.* <h2>‚¨áÔ∏è</h2>

<img src="../img/ifconfig03.png">

*Como podemos ver o exemplo acima, basta adcionar ao comando ifconfig e o nome da interface o IP desejado, a palavra **netmask** e a m√°scara de sub-rede, e a interface √© facilmente configurada para o novo endere√ßo.*

<hr>

### ROUTE - Estabelecendo Rotas de Rede

*O comando **route** serve para visualizar rotas existentes ou mesmo na cria√ß√£o de novas rotas; em um servidor com v√°rias interfaces de redes ligadas a v√°rias sub-redes diferentes, o estabelecimento destas rotas pode permitir melhorias estrat√©gicas de infraestrutura importantes.*

```sh
   sudo route
```
*A execu√ß√£o e bem simples, o comando mostra as rotas j√° estabelecidas.*

<img src="../img/route01.png">

*Para adcionar uma nova rota, basta usar o par√¢metro **"add"** seguido do par√¢metro **"net"**, para adcionar uma nova rede; o endere√ßo da rede deve vir na sequ√™ncia, seguido pela m√°scara de rede (opcional em algumas situa√ß√µes) e, ap√≥s a palavras **"dev"**, a interface em quest√£o:*

```sh
  sudo route add -net 192.36.73.0 netmask 251.251.251.0 dev enp0s3
```
*No exemplo na Linha de comando **sudo route add -net 192.36.73.0 netmask 251.251.251.0 dev enp0s3**, √© adcionada uma rota para a rede 192.36.73.0, que dar√° sa√≠da pela interface **enp0s3**; a m√°scara, neste caso, seria opcional, pois o endere√ßo de rede de classe **C** (que tem a m√°scara informada como padr√£o).*

*Para adcionar um **gateway-padr√£o**, a Linha de comando **sudo route add default gw 10.0.2.1** trazum exemplo:*

```sh
  sudo route add default gw 10.0.2.1
```
<hr>

### NMAP - Escaneamento de Portas

*Um dos grandes riscos para um computador conectado a uma rede s√£o as portas de servi√ßo que se encontram abertas, esperando para atender aos servi√ßos de rede. Muitas destas portas s√£o abertas por servi√ßos que, por muitas vezes, n√£o sabemo o porqu√™ est√£o ativos e que portas abrem para tais. O comando **nmap** realiza um escaneamento de portas (o chamado Port Scan) na m√°quina-alvo, indicando quais portas est√£o abertas e como est√£o abertas.*

 **Recomendo que voc√™ realize um escaneamento de portas apenas em m√°quinas das quais voc√™ conta, pois o ato √© considerado um ataque de invas√£o preliminar.** *Antes de realizar o escaneamento, certifique-se que o **nmap** est√° instalado; caso n√£o esteja, digite **sudo apt install nmap**. Para realizar a an√°lise, dgite **nmap** e o **IP** da m√°quina em quest√£o:*

```sh
  nmap 127.0.0.1
```
<img src="../img/nmap01.png">

*Repare que decidi escanear meu pr√≥prio equipamento apontando para **loopback (127.0.0.1);** o escaneamento padr√£o dectectou apenas duas portas abertas uma delas √© a **22**, geralmente destinada para o servi√ßo de **ssh**.*

*No entanto, estou presumindo que o servi√ßo em quest√£o √© um servidor **ssh**, porque esta √© a porta destinada a ele; a verdade √© que pode ser qualquer outro servi√ßo escutando nesta porta. Para aprimorar esta an√°lise, posso usar o par√¢metro **"--all-ports"**, que como a tradu√ß√£o indica, vai escanear todas as portas (o escaneamento padr√£o despreza algumas). Os par√£metros **"-s"** e **"-V"** informam o servi√ßo que est√° escutando e sua vers√£o, respectivamente.*

```sh
  nmap 127.0.0.1 --allports -sV
```

<img src="../img/nmap02.gif">

*Posso para de presumir agora: a an√°lise do **nmap** mostra que na porta **22**, temos um servidor de **OpenSSH**e a vers√£o exata **(9.1)** e avers√£o do protocolo **SSH** que est√° rodando **(2.0)**.*

*√â muita informa√ß√£o pertinente; para se proteger, talves possa desligar um servi√ßo de rede que n√£o esteja sendo utilizado; para um atacante,  a vers√£o exata do **OpenSSH**, se desatualizada, proporciona o uso de um exploit e uma falha de seguran√ßa, permitindo uma invas√£o e at√© mesmo o controle do sistema com o usu√°rio **root**. Proteja-se de riscos desnecess√°rios.*

<br>

## [Linux Parte 04 (click me)](https://github.com/GabrielFerretto/programming_studies/blob/main/Linux-Fundamentos/mod/002-pt01.md "A parte 2 dos estudos ")